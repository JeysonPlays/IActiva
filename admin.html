<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IActiva - Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="admin.css" />
    <script type="module" src="admin.js"></script>
  </head>
  <body class="admin-page p-0 m-0 overflow-x-hidden font-sans text-gray-200">
    <!-- Pantalla principal (oculta por defecto) -->
    <div
      id="main-screen"
      class="min-h-screen flex flex-col p-4 md:p-8 space-y-8 hidden"
    >
      <header
        class="card p-6 flex flex-col sm:flex-row justify-between items-center"
      >
        <h1
          id="user-greeting"
          class="text-2xl md:text-3xl font-bold text-red-700 text-center sm:text-left mb-4 sm:mb-0"
        ></h1>
        <div class="flex space-x-2 flex-wrap justify-center sm:justify-end">
          <button
            id="user-admin-button"
            class="bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600 transition-colors hidden text-sm"
          >
            Administrar Usuarios
          </button>
          <button
            id="logout-button"
            class="bg-gray-500 text-white px-4 py-2 rounded-full hover:bg-gray-600 transition-colors text-sm"
          >
            Cerrar Sesión
          </button>
        </div>
      </header>

      <!-- Sección del Administrador -->
      <section id="admin-section" class="flex-grow space-y-8 hidden">
        <div class="card p-6">
          <h2
            class="text-xl font-semibold text-gray-800 border-b-2 border-red-300 pb-2 mb-4"
          >
            Administrar Temas
          </h2>
          <div class="flex justify-center mb-6">
            <button
              id="create-tema-button"
              class="bg-blue-600 text-white py-2 px-6 rounded-full hover:bg-blue-700 transition-colors"
            >
              Crear Nuevo Tema
            </button>
          </div>
        </div>

        <div id="temas-list" class="space-y-6">
          <!-- Los temas se renderizarán aquí -->
        </div>
      </section>
    </div>

    <!-- Modal de administración de usuarios -->
    <div
      id="user-admin-modal"
      class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 flex items-center justify-center p-4"
    >
      <div
        class="relative w-full max-w-lg modal-content p-6 md:p-8 text-center"
      >
        <div class="flex justify-between items-center pb-4 mb-4 border-b">
          <h3 class="text-xl font-bold text-gray-900">Administrar Usuarios</h3>
          <button
            id="close-modal-button"
            class="bg-gray-200 text-gray-600 p-2 rounded-full hover:bg-gray-300"
          >
            <svg
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
        </div>

        <div class="text-left space-y-6">
          <div class="glass-panel p-4">
            <h4 class="text-md font-semibold text-gray-700 mb-2">
              Crear Nuevo Usuario
            </h4>
            <form id="create-user-form" class="space-y-2">
              <input
                type="text"
                id="new-username"
                placeholder="Usuario"
                required
                class="block w-full rounded-md border-gray-300 px-3 py-2"
              />
              <input
                type="password"
                id="new-password"
                placeholder="Contraseña"
                required
                class="block w-full rounded-md border-gray-300 px-3 py-2"
              />
              <button
                type="submit"
                class="w-full bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600 transition-colors"
              >
                Crear Usuario
              </button>
            </form>
          </div>

          <div class="glass-panel p-4 mt-6">
            <h4 class="text-md font-semibold text-gray-700 mb-2">
              Lista de Usuarios
            </h4>
            <ul id="user-list" class="space-y-2">
              <!-- La lista de usuarios se renderiza aquí -->
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de confirmación para usuarios -->
    <div
      id="user-confirm-modal"
      class="fixed inset-0 bg-gray-600 bg-opacity-50 h-full w-full hidden z-50 flex items-center justify-center p-4"
    >
      <div class="w-full max-w-sm modal-content p-6 text-center glass-panel">
        <p id="user-confirm-message" class="text-lg text-gray-900 mb-4"></p>
        <div class="flex justify-around">
          <button
            id="user-confirm-yes"
            class="px-4 py-2 bg-red-500 text-white font-medium rounded-full shadow-sm hover:bg-red-700 transition-colors"
          >
            Sí
          </button>
          <button
            id="user-confirm-no"
            class="px-4 py-2 bg-gray-200 text-gray-800 font-medium rounded-full shadow-sm hover:bg-gray-300 transition-colors"
          >
            No
          </button>
        </div>
      </div>
    </div>

    <!-- Modal para cambiar contraseña de usuario -->
    <div
      id="user-password-modal"
      class="fixed inset-0 bg-gray-600 bg-opacity-50 h-full w-full hidden z-50 flex items-center justify-center p-4"
    >
      <div class="w-full max-w-sm modal-content p-6 text-center glass-panel">
        <h3 class="text-xl font-bold text-gray-900 mb-4">Cambiar Contraseña</h3>
        <input
          type="password"
          id="new-password-modal-input"
          placeholder="Nueva Contraseña"
          class="block w-full rounded-md border-gray-300 shadow-sm px-3 py-2 mb-4"
        />
        <div class="flex justify-around">
          <button
            id="save-password-button"
            class="px-4 py-2 bg-red-500 text-white font-medium rounded-full shadow-sm hover:bg-red-700 transition-colors"
          >
            Guardar
          </button>
          <button
            id="close-password-modal"
            class="px-4 py-2 bg-gray-200 text-gray-800 font-medium rounded-full shadow-sm hover:bg-gray-300 transition-colors"
          >
            Cancelar
          </button>
        </div>
      </div>
    </div>

    <!-- Modal para opciones de usuario -->
    <div
      id="user-options-modal"
      class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 flex items-center justify-center p-4"
    >
      <div
        class="relative w-full max-w-lg modal-content p-6 md:p-8 text-left glass-panel"
      >
        <div class="flex justify-between items-center pb-4 mb-4 border-b">
          <h3 class="text-xl font-bold text-gray-900">Opciones de Usuario</h3>
          <button
            id="close-user-options-modal"
            class="bg-gray-200 text-gray-600 p-2 rounded-full hover:bg-gray-300"
          >
            <svg
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
        </div>
        <div id="user-options-content" class="space-y-4">
          <!-- Contenido de las opciones de usuario se renderiza aquí -->
        </div>
      </div>
    </div>

    <!-- Modal para agregar/editar sección -->
    <div
      id="section-modal"
      class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 flex items-center justify-center p-4"
    >
      <div class="w-full max-w-lg modal-content p-6 text-left glass-panel">
        <div class="flex justify-between items-center pb-4 mb-4 border-b">
          <h3 id="section-modal-title" class="text-xl font-bold text-gray-900">
            Crear Nueva Sección
          </h3>
          <button
            id="close-section-modal"
            class="bg-gray-200 text-gray-600 p-2 rounded-full hover:bg-gray-300"
          >
            <svg
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
        </div>
        <form id="section-form" class="space-y-4">
          <div>
            <label for="section-name" class="block text-gray-700 text-sm"
              >Nombre de la Sección:</label
            >
            <input
              type="text"
              id="section-name"
              required
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm px-3 py-2"
            />
          </div>
          <div>
            <label for="section-description" class="block text-gray-700 text-sm"
              >Descripción:</label
            >
            <textarea
              id="section-description"
              required
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm px-3 py-2"
            ></textarea>
          </div>
          <div>
            <label for="section-image" class="block text-gray-700 text-sm"
              >URL de Imagen de Portada:</label
            >
            <input
              type="url"
              id="section-image"
              required
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm px-3 py-2"
            />
          </div>
          <button
            type="submit"
            class="w-full bg-red-600 text-white py-2 rounded-full hover:bg-red-700 transition-colors"
          >
            Guardar Sección
          </button>
        </form>
      </div>
    </div>

    <!-- Modal para agregar contenido a una sección -->
    <div
      id="add-content-modal"
      class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 flex items-center justify-center p-4"
    >
      <div class="w-full max-w-lg modal-content p-6 text-left glass-panel">
        <div class="flex justify-between items-center pb-4 mb-4 border-b">
          <h3 class="text-xl font-bold text-gray-900">
            Agregar Contenido a la Sección
          </h3>
          <button
            id="close-content-modal"
            class="bg-gray-200 text-gray-600 p-2 rounded-full hover:bg-gray-300"
          >
            <svg
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
        </div>
        <div class="space-y-4">
          <form id="add-content-form" class="space-y-4">
            <div>
              <label for="content-title" class="block text-gray-700 text-sm"
                >Título:</label
              >
              <input
                type="text"
                id="content-title"
                required
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm px-3 py-2"
              />
            </div>
            <div>
              <label for="content-url" class="block text-gray-700 text-sm"
                >URL del Recurso:</label
              >
              <input
                type="url"
                id="content-url"
                required
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm px-3 py-2"
              />
            </div>
            <button
              type="submit"
              class="w-full bg-green-600 text-white py-2 rounded-full hover:bg-green-700 transition-colors"
            >
              Agregar
            </button>
          </form>
          <div class="mt-4">
            <h4 class="text-md font-semibold text-gray-700">
              Contenido en la Sección:
            </h4>
            <ul id="section-content-list" class="space-y-2 mt-2"></ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal para editar el nombre del tema -->
    <div
      id="edit-tema-modal"
      class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 flex items-center justify-center p-4"
    >
      <div class="w-full max-w-lg modal-content p-6 text-left glass-panel">
        <div class="flex justify-between items-center pb-4 mb-4 border-b">
          <h3 class="text-xl font-bold text-gray-900">
            Editar Nombre del Tema
          </h3>
          <button
            id="close-edit-tema-modal"
            class="bg-gray-200 text-gray-600 p-2 rounded-full hover:bg-gray-300"
          >
            <svg
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
        </div>
        <form id="edit-tema-form" class="space-y-4">
          <div>
            <label for="edit-tema-name" class="block text-gray-700 text-sm"
              >Nuevo nombre del Tema:</label
            >
            <input
              type="text"
              id="edit-tema-name"
              required
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm px-3 py-2"
            />
          </div>
          <button
            type="submit"
            class="w-full bg-red-600 text-white py-2 rounded-full hover:bg-red-700 transition-colors"
          >
            Guardar Cambios
          </button>
        </form>
      </div>
    </div>

    <!-- Modal para editar contenido de una sección -->
    <div
      id="edit-content-modal"
      class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 flex items-center justify-center p-4"
    >
      <div class="w-full max-w-lg modal-content p-6 bg-white text-left">
        <div class="flex justify-between items-center pb-4 mb-4 border-b">
          <h3 class="text-xl font-bold text-gray-900">Editar Contenido</h3>
          <button
            id="close-edit-content-modal"
            class="bg-gray-200 text-gray-600 p-2 rounded-full hover:bg-gray-300"
          >
            <svg
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
        </div>
        <div class="space-y-4">
          <form id="edit-content-form" class="space-y-4">
            <div>
              <label
                for="edit-content-title"
                class="block text-gray-700 text-sm"
                >Título:</label
              >
              <input
                type="text"
                id="edit-content-title"
                required
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm px-3 py-2"
              />
            </div>
            <div>
              <label for="edit-content-url" class="block text-gray-700 text-sm"
                >URL del Recurso:</label
              >
              <input
                type="url"
                id="edit-content-url"
                required
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm px-3 py-2"
              />
            </div>
            <button
              type="submit"
              class="w-full bg-red-600 text-white py-2 rounded-full hover:bg-red-700 transition-colors"
            >
              Guardar Cambios
            </button>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
